{"version":3,"sources":["classes/ParallaxSlideshow.js"],"names":[],"mappings":"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","file":"classes/ParallaxSlideshow.js","sourcesContent":["/* exported ParallaxSlideshow */\n/* global TimelineMax */\n/* global TweenMax */\n/* global Power1 */\n/* global Power2 */\n/* global Power3 */\n/* global PubSub */\n/* global App */\n\nclass ParallaxSlideshow {\n    constructor($element = null) {\n        if ($element) {\n            if (typeof $element === 'string') {\n                $element = $($element);\n            }\n            if ($element.length) {\n                this.$slideshow = $element.eq(0);\n                this.$slideshow.data('slider', this);\n                this.slides = this.$slideshow.children('.wrapper');\n                this.init();\n            }\n        }\n    }\n\n    handleContents() {\n        this.slides.each((slide) => {\n            let $this = $(this.slides[slide]);\n            let $link = $this.find('a');\n            $this.data('content', $this.find('.content-container'));\n            $this.data('link', $link.attr('href'));\n            $link.remove();\n        });\n        let $slideshow = this.$slideshow;\n        $slideshow.append('<div class=\"content-wrapper\"/>');\n        let $contentContainer = $slideshow.children('.content-wrapper');\n        $contentContainer.append($slideshow.find('.content-container'));\n        $contentContainer.append('<a class=\"goto-project\">See Project</a>');\n        /* Project link */\n        this.linkBtn = $contentContainer.find('.goto-project');\n        this.linkBtn.attr('href', $(this.slides[0]).data('link'));\n        /*this.$slideshow.on('click', 'a', (e) => {\n            e.preventDefault();\n            PubSub.publish(App.getInstance().events.page.change, { href: $(e.currentTarget).attr('href') });\n        });*/\n    }\n\n    init() {\n        function attachAnimations(self, element = null) {\n            if (element) {\n                let $window = $(window);\n                let $element = $(element);\n                let intro = new TimelineMax({\n                    paused: true,\n                    onComplete: () => {\n                        self.isAnimating = false;\n                        $element.data('content').find('.description-container').attr('style', '');\n                    }\n                });\n\n                intro.to($element.find('.cover-container'), 1.05, { y: ((-1 * 0.10) * $window.outerHeight() + 'px'), ease: Power2.easeOut })\n                    .to($element.data('content'), 1, { y: '0', opacity: 1, ease: Power2.easeOut }, '-=0.5')\n                    .fromTo($element.data('content').find('.description-container'), 0.75, { y: '10px', ease: Power1.easeIn }, { y: '0px', ease: Power1.easeOut }, '-=1');\n                $element.data('intro', intro);\n\n                let outro = new TimelineMax({\n                    paused: true,\n                    onComplete: () => {\n                        $(self.slides[self.currentSlide]).removeClass('current');\n                        $(self.slides[self.futureSlide]).addClass('current').removeClass('future');\n                        self.currentSlide = self.futureSlide;\n                        self.linkBtn.attr('href', $(self.slides[self.currentSlide]).data('link'));\n                        $element.data('content').find('.title-container').attr('style', '');\n                    }\n                });\n                outro.to($element.find('.cover-container'), 1.05, { y: (-0.20 * $window.outerHeight() + 'px'), 'clip': 'rect(0vh, 100vw, 0vh, 0vw)', ease: Power2.easeInOut })\n                    .to($element.data('content'), 0.5, { y: '-50px', ease: Power2.easeIn }, '-=1.05')\n                    .to($element.data('content'), 0.4, { opacity: 0, ease: Power2.easeIn }, '-=0.95')\n                    .to($element.data('content').find('.title-container'), 0.5, { y: '-10px', ease: Power2.easeIn }, '-=1');\n                $element.data('outro', outro);\n\n                let introReverse = new TimelineMax({\n                    paused: true,\n                    onComplete: () => {\n                        self.isAnimating = false;\n                    }\n                });\n\n                introReverse.to($element.find('.cover-container'), 1.05, { y: ((-1 * 0.10) * $window.outerHeight() + 'px'), ease: Power2.easeOut })\n                    .to($element.data('content'), 1, { y: '0', opacity: 1, ease: Power3.easeOut }, '-=0.35');\n                $element.data('introReverse', introReverse);\n\n                let outroReverse = new TimelineMax({\n                    paused: true,\n                    onComplete: () => {\n                        $(self.slides[self.currentSlide]).removeClass('current');\n                        $(self.slides[self.futureSlide]).addClass('current').removeClass('future');\n                        self.currentSlide = self.futureSlide;\n                        self.linkBtn.attr('href', $(self.slides[self.currentSlide]).data('link'));\n                    }\n                });\n                outroReverse.to($element.find('.cover-container'), 1.05, { y: (0 * $window.outerHeight() + 'px'), 'clip': 'rect(120vh, 100vw, 120vh, 0vw)', ease: Power2.easeInOut }, '-=0')\n                    .to($element.data('content'), 0.75, { y: '70px', ease: Power2.easeIn }, '-=1.05')\n                    .to($element.data('content'), 0.5, { opacity: 0, ease: Power1.easeIn }, '-=0.75');\n                $element.data('outroReverse', outroReverse);\n            }\n        }\n\n        let self = this;\n        this.handleContents();\n        this.currentSlide = 0;\n        this.totalSlides = this.slides.length;\n        this.slides.each((index, slide) => attachAnimations(self, slide));\n        this.isAnimating = false;\n        PubSub.subscribe(App.getInstance().events.page.home.ready, () => {\n            this.attachEvents();\n        });\n    }\n\n    attachEvents() {\n        let self = this;\n        self.$slideshow.on('mousewheel.parallax-slideshow', function (e) {\n            if (e.originalEvent.deltaY >= 0) {\n                self.next();\n            } else {\n                self.prev();\n            }\n        });\n\n        $('body').swipe({\n            //Generic swipe handler for all directions\n            swipe: function (event, direction) {\n                if (direction === 'up') {\n                    self.next();\n                } else if (direction === 'down') {\n                    self.prev();\n                }\n            },\n            allowPageScroll: 'none'\n        });\n    }\n\n    doTransition(direction, fromSlide = 0, toSlide = 0) {\n        let $window = $(window);\n        let $fromSlide = $(this.slides[fromSlide]);\n        let $toSlide = $(this.slides[toSlide]);\n        direction = (direction === 'up') ? 1 : -1;\n\n        let toCover = $toSlide.find('.cover-container');\n        let fromCover = $fromSlide.find('.cover-container');\n        let toContent = $toSlide.data('content');\n        TweenMax.to(toCover, 0, {\n            top: 0,\n            bottom: 'auto',\n            y: (direction * 0.50) * $window.outerHeight() + 'px',\n            'max-height': '120vh',\n            'scaleY': 1,\n            'clip': 'rect(0vw, 100vw, 120vh, 0vw)'\n        });\n/*\n        TweenMax.to(toCover.find('.cover'), 0, {\n            'y': '0%',\n            'scaleY': 1\n        });\n*/\n        if (direction === 1) {\n            TweenMax.to(fromCover, 0, {\n                'transform-origin': 'center top',\n                y: (-0.10) * $window.outerHeight() + 'px',\n                'max-height': '120vh',\n                'clip': 'rect(0vw, 100vw, 120vh, 0vw)'\n            });\n            /*\n            TweenMax.to(fromCover.find('.cover'), 0, {\n                'y': '0%'\n            });\n            */\n        } else {\n            TweenMax.to(fromCover, 0, {\n                'y': (-0.10) * $window.outerHeight() + 'px',\n                'transform-origin': 'center bottom',\n                'max-height': '120vh',\n                'clip': 'rect(0vw, 100vw, 120vh, 0vw)'\n            });\n            /*\n            TweenMax.to(fromCover.find('.cover'), 0, {\n                'y': '0%'\n            });\n            */\n        }\n\n        TweenMax.to(toContent, 0, {\n            y: (direction * 30) + 'px',\n            opacity: 0\n        });\n\n        $toSlide.addClass('future');\n        let intro;\n        let outro;\n        if (direction === 1) {\n            intro = $toSlide.data('intro');\n            outro = $fromSlide.data('outro');\n        } else {\n            outro = $fromSlide.data('outroReverse');\n            intro = $toSlide.data('introReverse');\n        }\n        intro.restart(true);\n        outro.restart(true);\n    }\n\n    goTo(direction, index) {\n        if (!this.isAnimating) {\n            this.isAnimating = true;\n            this.futureSlide = index;\n            let $futureSlide = $(this.slides[this.futureSlide]);\n            if ($futureSlide.hasClass('ready')) {\n                this.$slideshow.removeClass('loading');\n                this.doTransition(direction, this.currentSlide, this.futureSlide);\n            } else {\n                this.$slideshow.addClass('loading');\n                let token = PubSub.subscribe(App.getInstance().events.page.home.slideReady, () => {\n                    if ($futureSlide.hasClass('ready')) {\n                        PubSub.unsubscribe(token);\n                        this.$slideshow.removeClass('loading');\n                        this.doTransition(direction, this.currentSlide, this.futureSlide);\n                    }\n                });\n            }\n        }\n    }\n\n    next() {\n        console.log('next');\n        if ((this.currentSlide + 1) >= this.totalSlides) {\n            this.goTo('up', 0);\n        } else {\n            this.goTo('up', this.currentSlide + 1);\n        }\n    }\n\n    prev() {\n        console.log('prev');\n        if ((this.currentSlide - 1) < 0) {\n            this.goTo('down', this.totalSlides - 1);\n        } else {\n            this.goTo('down', this.currentSlide - 1);\n        }\n    }\n\n    destroy() {\n        function removeAnimations(element = null) {\n            if (element) {\n                let $element = $(element);\n                $element.data('intro', null);\n                $element.data('outro', null);\n            }\n        }\n\n        this.slides.each((index, slide) => removeAnimations(slide));\n        this.$slideshow.off('click.parallax-slideshow');\n        this.$slideshow.off('mousewheel.parallax-slideshow');\n        $('body').swipe('destroy');\n    }\n}\n"],"sourceRoot":"/source/"}