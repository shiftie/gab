{"version":3,"sources":["classes/Pages.js"],"names":[],"mappings":"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","file":"classes/Pages.js","sourcesContent":["/* exported Pages */\n/* global App */\n/* global PubSub */\n/* global Utils */\n/* global Loader */\n/* global ParallaxSlideshow */\n/* global TweenMax */\n/* global Power1 */\n/* global Power2 */\n/* global Power3 */\n/* global Sine */\n/* global TimelineMax */\n/* global ScrollMagic */\n\nclass Pages {\n    static init() {\n        Pages.handleContact();\n        $('body').addClass('page-' + $('.page').data('page'));\n        PubSub.subscribe(App.getInstance().events.page.change, (e, data) => {\n            console.log(data);\n            if (data.href) {\n                var url = data.href;\n                $.ajax({\n                    url: url,\n                    dataType: 'html'\n                }).done(function (data) {\n                    Pages.doTransition(data);\n                });\n            }\n        });\n\n        /*if(typeof history !== 'undefined'){\n            console.log('pushing', '/');\n            history.pushState({page: '/'}, '/', '/');\n        }*/\n\n        if(typeof history !== 'undefined'){\n            window.onpopstate = function(event) {\n                console.log(event.state);\n                if(event.state && event.state.page){\n                    PubSub.publish(App.getInstance().events.page.change, { href: event.state.page });\n                }else{\n                    PubSub.publish(App.getInstance().events.page.change, { href: '/' });\n                }\n            };\n        }\n    }\n\n    static doTransition(futurePageData) {\n        let futurePage;\n\n        futurePageData = $('<html />').html(futurePageData);\n        if (futurePageData.find('.page')) {\n            futurePage = futurePageData.find('.page').data('page');\n            futurePageData = futurePageData.find('.page');\n            if (futurePage) {\n                // Unbind current page\n                Pages[App.getInstance().currentView](true);\n                let token = PubSub.subscribe(App.getInstance().events.page.outro.completed, () => {\n                    // Change contents\n                    PubSub.unsubscribe(token);\n                    $('body').removeClass('page-' + App.getInstance().currentView).addClass('page-' + futurePage);\n                    $('.page').removeClass(App.getInstance().currentView).addClass(futurePage).data('page', futurePage).html(futurePageData.html());\n                    setTimeout(() => {\n                        Pages[futurePage]();\n                    }, 0);\n                });\n            }\n        } else {\n            console.error('.page node not found in returned data');\n        }\n    }\n\n    static handleContact() {\n        function attachAnimations($element) {\n            let animation = new TimelineMax({\n                paused: true,\n                onComplete: () => {\n                    $element.addClass('active');\n                },\n                onReverseComplete: () => {\n                    $element.removeClass('active');\n                }\n            });\n\n            animation.fromTo($element.find('.white-bg'), 0.5, { 'clip': 'rect(0vh, 100vw, 100vh, 100vw)' }, { 'clip': 'rect(0vh, 100vw, 100vh, 0vw)', ease: Power2.easeOut }, '+=0')\n                .fromTo($element.find('.content'), 1, { 'clip': 'rect(0vh, 100vw, 100vh, 100vw)' }, { 'clip': 'rect(0vh, 100vw, 100vh, 0vw)', ease: Power2.easeOut }, '-=0.1')\n                .fromTo($element.find('.typo-1'), 1, { x: '20%' }, { x: '0%', ease: Power2.easeOut }, '-=1')\n                .fromTo($element.find('.typo-2'), 1, { x: '30%' }, { x: '0%', ease: Power2.easeOut }, '-=1')\n                .fromTo($element.find('.typo-3'), 1, { x: '100%' }, { x: '0%', ease: Power2.easeOut }, '-=1')\n                .fromTo($element.find('.text'), 1, { x: '50%', opacity: 0 }, { x: '0%', opacity: 1, ease: Power2.easeOut }, '-=1');\n            $element.data('animation', animation);\n        }\n\n        function attachEvents($element) {\n            PubSub.subscribe(App.getInstance().events.page.contact.open, () => {\n                $element.data('animation').play();\n            });\n            PubSub.subscribe(App.getInstance().events.page.contact.close, () => {\n                $element.data('animation').reverse();\n            });\n            PubSub.subscribe(App.getInstance().events.page.change, () => {\n                PubSub.publish(App.getInstance().events.page.contact.close);\n            });\n        }\n\n        console.log('handlecontact');\n        App.getInstance().$contact = $('.contact');\n        attachAnimations(App.getInstance().$contact);\n        attachEvents(App.getInstance().$contact);\n    }\n\n    static home(unbind = false) {\n        let loaderToken;\n        let slider;\n\n        let playIntro = function () {\n            console.log('intro');\n            window.scrollTo(0, 0);\n\n            slider.isAnimating = true;\n\n            let $window = App.getInstance().$window;\n            let contentWidthStart;\n            let contentWidthEnd;\n            let coverLeftOffset;\n\n            if ($window.outerWidth() <= 1024) {\n                contentWidthStart = '0vw';\n                contentWidthEnd = '100vw';\n                coverLeftOffset = '0vw';\n            } else {\n                if (($window.outerWidth() * 0.33) > 550) {\n                    contentWidthStart = '0vw';\n                    contentWidthEnd = '33vw';\n                    coverLeftOffset = '16.5vw';\n                } else {\n                    contentWidthStart = '0px';\n                    contentWidthEnd = '550px';\n                    coverLeftOffset = (275 * 100 / $window.outerWidth()) + 'vw';\n                }\n            }\n\n            TweenMax.set('.wrapper:nth-child(n+2)', { 'opacity': 0});\n            TweenMax.set('.wrapper.current', { 'clip': 'rect(0vh 0vw 120vh 0vw)' });\n            TweenMax.set('.wrapper.current .cover-container', { 'x': '-14%', 'y': (-0.10 * $window.outerHeight() + 'px') });\n            TweenMax.set('.content-wrapper', { 'clip': 'rect(0vh ' + contentWidthStart + ' 120vh 0vw)' });\n            TweenMax.set('.content-wrapper .content-container:nth-child(1) .title-container, .content-wrapper .content-container:nth-child(1) .description-container', { 'opacity': 0, 'y': -30 });\n            TweenMax.set('.goto-project', { 'opacity': 0, 'y': -15 });\n            let intro = new TimelineMax({\n                paused: true,\n                onComplete: () => {\n                    $('.wrapper:nth-child(n+2)').attr('style', '');\n                    $('.wrapper, .cover-container, .content-wrapper, .content-container:nth-child(1), .menu').attr('style', '');\n                    TweenMax.set('.wrapper.current .cover-container', { 'y': (-0.10 * $window.outerHeight() + 'px') });\n                    slider.isAnimating = false;\n                    PubSub.publish(App.getInstance().events.page.intro.completed);\n                }\n            });\n\n            intro.to('.wrapper', 1.5, { 'clip': 'rect(0vh 100vw 120vh 0vw)', ease: Power3.easeOut }, '+=0')\n                .to('.wrapper.current .cover-container', 1.5, { 'x': '0%', ease: Power2.easeOut }, '-=1.5')\n                .to('.wrapper.current ', 0.5, { 'clip': 'rect(0vh 100vw 120vh ' + coverLeftOffset + ')', ease: Power3.easeOut }, '-=1')\n                .to('.content-wrapper', 1, { 'clip': 'rect(0vh ' + contentWidthEnd + ' 120vh 0vw)', ease: Power3.easeOut }, '-=1')\n                .to('.content-wrapper .content-container:nth-child(1) .title-container', 0.8, { 'opacity': '1', 'y': 0, ease: Power1.easeOut }, '-=0.25')\n                .to('.content-wrapper .content-container:nth-child(1) .description-container', 0.8, { 'opacity': '1', 'y': 0, ease: Power1.easeOut }, '-=0.65')\n                .to('.goto-project', 0.8, { 'opacity': '1', 'y': 0, ease: Power1.easeOut }, '-=0.55');\n\n            if (!$('.menu').hasClass('inited')) {\n                TweenMax.set('.menu', { 'y': '-100%', 'opacity': 0 });\n                intro.to('.menu', 1, {\n                    'y': '0%',\n                    'opacity': '1',\n                    ease: Power1.easeOut,\n                    onComplete: () => {\n                        $('.menu').addClass('inited');\n                    }\n                }, '-=1');\n            }\n\n            setTimeout(function () {\n                intro.play();\n            }, 500);\n        };\n\n        let updateBgs = function ($item = false) {\n            let $bgs;\n            if ($item !== false) {\n                $bgs = $item;\n            } else {\n                $bgs = $('.responsive-bg');\n            }\n            $bgs.each(function () {\n                var $this = $(this);\n                var src = Utils.getCurrentSrc($this.find('picture img')[0]);\n                if (typeof src === 'string') {\n                    $this.css('background-image', 'url(' + src + ')');\n                }\n            });\n        };\n\n        if (unbind) {\n            console.log('unbind home');\n            App.getInstance().$window.off('resize.home');\n            slider = $('.parallax-slideshow').data('slider');\n            slider.destroy();\n\n\n            /* outro home */\n\n            let outro = new TimelineMax({\n                paused: false,\n                onComplete: () => {\n                    $('.parallax-slideshow').css('display', 'none');\n                    PubSub.publish(App.getInstance().events.page.outro.completed);\n                }\n            });\n\n            TweenMax.set('.wrapper:not(.current)', { 'opacity': 0 });\n            let $window =  App.getInstance().$window;\n            if($window.outerWidth() <= (64 * 16)){\n                TweenMax.set('.wrapper.current', {  'clip': 'rect(0vh 100vw 120vh 0vw)', 'height': '66vh' });\n            }else if($window.outerWidth() >= 1024 && $window.outerWidth() <= 1650){\n                TweenMax.set('.wrapper.current', {  'clip': 'rect(0vh 100vw 120vh ' + (275 * 100 / $window.outerWidth()) + 'vw)'});\n            }else{\n                TweenMax.set('.wrapper.current', {  'clip': 'rect(0vh 100vw 120vh 16.5vw)'});\n                TweenMax.set('.content-wrapper', {  'width': '33vw' });\n            }\n\n            outro.to('.wrapper.current', 1, { 'clip': 'rect(0vh 100vw 120vh 100vh)', ease: Power2.easeInOut }, '+=0')\n                .to('.content-wrapper', 1, { 'width': '100vw', ease: Power1.easeIn }, '-=1')\n                .to('.content-container', 0.5, { 'opacity': 0, ease: Power2.easeOut }, '-=0.5')\n                .to('.goto-project', 0.5, { 'opacity': 0, ease: Power2.easeOut }, '-=1');\n\n            /* end outro home */\n\n        } else {\n            slider = new ParallaxSlideshow($('.parallax-slideshow'));\n            loaderToken = PubSub.subscribe(App.getInstance().events.page.home.ready, () => {\n                playIntro();\n                PubSub.unsubscribe(loaderToken);\n                slider.$slideshow.addClass('ready');\n            });\n            App.getInstance().$window.on('resize.home', function () {\n                updateBgs();\n            });\n            Loader.getInstance().handle(function () {\n                let onComplete = function (img, first) {\n                    if (first === true) {\n                        PubSub.publish(App.getInstance().events.page.home.ready);\n                    }\n                    updateBgs($(img).closest('.responsive-bg'));\n                    $(img).closest('.wrapper').addClass('ready');\n                    PubSub.publish(App.getInstance().events.page.home.slideReady, { slide: $(img).closest('.wrapper') });\n                };\n                slider.$slideshow.find('picture img').each((index, img) => {\n                    let first = (index === 0);\n                    if (img.complete) {\n                        onComplete(img, first);\n                    } else {\n                        img.addEventListener('load', () => {\n                            onComplete(img, first);\n                        });\n                        img.addEventListener('error', () => {\n                            onComplete(img, first);\n                        });\n                    }\n                });\n            });\n        }\n    }\n\n    static project(unbind = false) {\n        let playIntro = function () {\n            console.log('intro');\n            window.scrollTo(0, 0);\n\n            TweenMax.set('.project', { 'opacity': 0 });\n            TweenMax.set('.project h1', { 'margin-top': '-50px', 'opacity': 0 });\n\n            let intro = new TimelineMax({\n                paused: true,\n                onComplete: () => {\n                    PubSub.publish(App.getInstance().events.page.intro.completed);\n                }\n            });\n\n            intro.to('.project', 1, { 'opacity': 1 })\n                .to('.project h1', 1, { 'margin-top': '0px', 'opacity': 1 }, '-=0.5');\n\n            intro.play();\n\n            // init controller\n\t\t\tlet controller = new ScrollMagic.Controller();\n            let tween = TweenMax.fromTo('.project .responsive-bg', 1,\n\t\t\t\t\t\t\t\t\t\t{opacity: 0.5},\n\t\t\t\t\t\t\t\t\t\t{opacity: 1, ease: Power1.easeInOut}\n\t\t\t\t\t\t\t\t\t);\n\n\t\t\t// build scene\n\t\t\tlet scene = new ScrollMagic.Scene({triggerElement: '.project header', duration: App.getInstance().$window.outerHeight() / 2, offset: 0, triggerHook: 0})\n\t\t\t\t\t\t\t.setTween(tween)\n\t\t\t\t\t\t\t.addTo(controller);\n\n            $('.scroll-indicator').on('click', function(){\n                let offset = $('.block').offset().top;\n                TweenMax.to(window, 1, {scrollTo:{y:offset, x:0}, ease: Power3.easeOut});\n\n            });\n        };\n        if (unbind) {\n            console.log('unbind project');\n            App.getInstance().$window.off('resize.project');\n\n            $('.scroll-indicator').off('click');\n\n            TweenMax.to('.page > article', 0.5, {\n                opacity: 0,\n                onComplete: () => {\n                    PubSub.publish(App.getInstance().events.page.outro.completed);\n                }\n            });\n        } else {\n            let updateBgs = function ($item = false) {\n                let $bgs;\n                if ($item !== false) {\n                    $bgs = $item;\n                } else {\n                    $bgs = $('.responsive-bg');\n                }\n                $bgs.each(function () {\n                    var $this = $(this);\n                    var src = Utils.getCurrentSrc($this.find('picture img')[0]);\n                    if (typeof src === 'string') {\n                        $this.css('background-image', 'url(' + src + ')');\n                    }\n                });\n            };\n\n            App.getInstance().$window.on('resize.home', function () {\n                updateBgs();\n            });\n            Loader.getInstance().handle(function () {\n                let onComplete = function (img, first) {\n                    if (first === true) {\n                        PubSub.publish(App.getInstance().events.page.project.ready);\n                    }\n                    updateBgs($(img).closest('.responsive-bg'));\n                    $(img).closest('.project').addClass('ready');\n                };\n                $('header picture img').each((index, img) => {\n                    let first = (index === 0);\n                    if (img.complete) {\n                        onComplete(img, first);\n                    } else {\n                        img.addEventListener('load', () => {\n                            onComplete(img, first);\n                        });\n                        img.addEventListener('error', () => {\n                            onComplete(img, first);\n                        });\n                    }\n                });\n            });\n            playIntro();\n            App.getInstance().$window.on('resize.project', function () {\n                /* resize handle here */\n                updateBgs();\n            });\n        }\n    }\n}\n"],"sourceRoot":"/source/"}